{"remainingRequest":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/babel-loader/lib/index.js!/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/src/components/ReadingEvent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/src/components/ReadingEvent.vue","mtime":1586719967764},{"path":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  components: {},\n  props: {\n    apiURL: String\n  },\n  data: function data() {\n    return {\n      showUsersButton: false,\n      showUsers: false,\n      showForm: false,\n      readingEvent: {\n        userId: '',\n        bookId: '',\n        readingTime: 0,\n        readingDate: '',\n        format: '',\n        completed: false\n      },\n      currentUser: {\n        userId: '',\n        userName: '',\n        password: '',\n        confirmPassword: '',\n        passwordMatching: '',\n        role: ''\n      },\n      books: [],\n      users: [],\n      formats: [{\n        id: 1,\n        format: \"Paper\"\n      }, {\n        id: 2,\n        format: \"Digital/Kindle\"\n      }, {\n        id: 3,\n        format: \"Audiobook\"\n      }, {\n        id: 4,\n        format: \"Read-Aloud (Reader)\"\n      }, {\n        id: 5,\n        format: \"Read-Aloud (Listener)\"\n      }, {\n        id: 6,\n        format: \"Other\"\n      }]\n    };\n  },\n  methods: {\n    showFamUsersBtn: function showFamUsersBtn() {\n      if (this.currentUser.role === \"user\") {\n        this.showUsersButton = true;\n      }\n    },\n    showFamUsers: function showFamUsers() {\n      console.log(this.currentUser);\n\n      if (this.currentUser.role === \"user\") {\n        this.showUsers = true;\n      }\n    },\n    showFormButton: function showFormButton() {\n      this.showForm = true;\n    },\n    getBooks: function getBooks() {\n      var _this = this;\n\n      axios.get(\"\".concat(process.env.VUE_APP_REMOTE_API, \"/api/getAllBooks\"), {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n        }\n      }).then(function (response) {\n        console.log(response);\n        _this.books = response.data;\n      }).catch(function (error) {\n        console.log(error + \" there was an error\");\n      });\n    },\n    selectUser: function selectUser() {\n      var _this2 = this;\n\n      axios.get(\"\".concat(process.env.VUE_APP_REMOTE_API, \"/api/getUser\"), {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n        }\n      }).then(function (response) {\n        console.log(response);\n        _this2.users = response.data;\n      }).catch(function (error) {\n        console.log(error + \" there was an error\");\n      });\n    },\n    addReadingEvent: function addReadingEvent() {\n      var _this3 = this;\n\n      if (this.readingEvent.userId === '') {\n        this.readingEvent.userId = this.currentUser.id;\n      }\n\n      if (document.querySelector(\"#checkbox\").checked) {\n        this.readingEvent.completed = true;\n      }\n\n      console.log(this.readingEvent);\n      axios.post(\"\".concat(process.env.VUE_APP_REMOTE_API, \"/api/addReadingEvent\"), this.readingEvent, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n        }\n      }).then(function (response) {\n        console.log(response);\n        _this3.showForm = false;\n        alert(\"Your reading event has been saved, BookWorm!\");\n        _this3.readingEvent.userId = '';\n        _this3.readingEvent.bookId = '';\n        _this3.readingEvent.readingTime = 0;\n        _this3.readingEvent.readingDate = '';\n        _this3.readingEvent.format = '';\n        _this3.readingEvent.completed = false;\n      }).catch(function (error) {\n        console.log(error + \" there was an error\");\n      });\n    },\n    getCurrentUser: function getCurrentUser() {\n      var _this4 = this;\n\n      axios.get(\"\".concat(process.env.VUE_APP_REMOTE_API, \"/api/getCurrentUser\"), {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n        }\n      }).then(function (response) {\n        console.log(response.data);\n        _this4.currentUser = response.data;\n      }).catch(function (error) {\n        console.log(error + \" there was an error\");\n      });\n    }\n  },\n  computed: {\n    isValidForm: function isValidForm() {\n      return this.readingEvent > 0;\n    },\n    selectDate: function selectDate() {\n      return this.date;\n    }\n  }\n};",{"version":3,"sources":["ReadingEvent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <!-- <div class=\"header\">\n      <h2>Reading Event</h2>\n    </div> -->\n    <button v-on:click=\"getCurrentUser(); getBooks(); selectUser(); showFormButton(); showFamUsers();\">Create Reading Event</button>\n\n    <div v-if= \"showForm\"> \n    <select id=\"books\" v-on:click=\"showFamUsersBtn()\" v-model=\"readingEvent.bookId\">\n      <option v-for=\"book in books\" v-bind:key=\"book.id\" :value=\"book.id\">{{book.title}}</option>\n    </select>\n    <button v-if= \"showUsersButton\" v-on:click=\"showFamUsers()\">Enter Event for Different Family Members</button>\n    <select  v-if= \"showUsers\" id=\"users\" v-model=\"readingEvent.userId\">\n      <option v-for=\"user in users\" v-bind:key=\"user.id\" :value=\"user.id\">{{user.username}}</option>\n    </select>\n\n     <div class=\"form\">\n      <div class=\"form-input\">\n        <span class=\"label\">Enter Reading Time:</span>\n        <input type=\"number\" placeholder=\"In Minutes\" v-model=\"readingEvent.readingTime\"/>\n        \n      </div>\n    </div>\n\n    <div class=\"form\">\n      <div class=\"form-input\">\n        <span class=\"label\">Enter Reading Date:</span>\n        <input type=\"text\" placeholder=\"YYYY-MM-dd\" v-model=\"readingEvent.readingDate\"/>\n      </div>\n    </div>\n\n    <select id=\"format\" v-model=\"readingEvent.format\">\n      <option v-for=\"format in formats\" v-bind:key=\"format.id\">{{format.format}}</option>\n    </select> \n\n    <input type=\"checkbox\" id=\"checkbox\" v-model=\"readingEvent.completed\">\n    <label for=\"checkbox\">Completed</label>\n\n    <div>\n          <button v-on:click=\"addReadingEvent\">Submit</button>\n    </div>    \n    </div>\n\n\n  </div>\n</template>\n\n\n<script>\nimport axios from \"axios\"\n\nexport default {\n  components: {\n  },\n\n  props: {\n    apiURL: String\n  },\n  data() {\n    return {\n      showUsersButton: false,\n      showUsers: false,\n      showForm: false,\n      readingEvent: {\n          userId: '',\n          bookId: '',\n          readingTime: 0,\n          readingDate: '',\n          format: '',\n          completed: false\n      },\n      currentUser: {\n        userId: '',\n        userName: '',\n        password: '',\n        confirmPassword: '',\n        passwordMatching: '',\n        role: ''\n      },\n      books: [],\n      users: [],\n      formats: [\n        {\n          id: 1,\n          format: \"Paper\"\n        },\n        {\n          id: 2,\n          format: \"Digital/Kindle\"\n        },\n        {\n          id: 3,\n          format: \"Audiobook\"\n        },\n        {\n          id: 4,\n          format: \"Read-Aloud (Reader)\"\n        },\n        {\n          id: 5,\n          format: \"Read-Aloud (Listener)\"\n        },\n        {\n          id: 6,\n          format: \"Other\"\n        }\n      ]\n    };\n  },\n\n  methods: {\n    showFamUsersBtn(){\n      if (this.currentUser.role === \"user\"){\n      this.showUsersButton = true;\n      }\n    },\n\n    showFamUsers(){\n      console.log(this.currentUser);\n      if (this.currentUser.role === \"user\"){\n        this.showUsers = true;\n      }\n    },\n    showFormButton(){\n      this.showForm = true;\n    },\n    getBooks() {\n      axios\n        .get(`${process.env.VUE_APP_REMOTE_API}/api/getAllBooks`, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n          }\n        })\n        .then(response => {\n          console.log(response);\n          this.books = response.data;\n        })\n        .catch(error => {\n          console.log(error + \" there was an error\");\n        });\n    },\n\n    selectUser() {\n      axios\n        .get(`${process.env.VUE_APP_REMOTE_API}/api/getUser`, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n          }\n        })\n        .then(response => {\n          console.log(response);\n          this.users = response.data;\n          \n        })\n        .catch(error => {\n          console.log(error + \" there was an error\");\n        });\n    },\n\n    addReadingEvent() {\n      if (this.readingEvent.userId === ''){\n        this.readingEvent.userId = this.currentUser.id;\n      }\n\n      if (document.querySelector(\"#checkbox\").checked){\n        this.readingEvent.completed = true;\n      }\n      console.log(this.readingEvent);\n      axios\n        .post(\n          `${process.env.VUE_APP_REMOTE_API}/api/addReadingEvent`,\n          this.readingEvent,\n          {\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n            }\n          }\n        )\n        .then(response => {\n          console.log(response);\n          this.showForm = false;\n          alert(\"Your reading event has been saved, BookWorm!\");\n          this.readingEvent.userId = '';\n          this.readingEvent.bookId = '';\n          this.readingEvent.readingTime = 0;\n          this.readingEvent.readingDate = '';\n          this.readingEvent.format = '';\n          this.readingEvent.completed = false;\n        })\n        .catch(error => {\n          console.log(error + \" there was an error\");\n        });\n    },\n     getCurrentUser() {\n      axios\n        .get(`${process.env.VUE_APP_REMOTE_API}/api/getCurrentUser`, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n          }\n        })\n        .then(response => {\n          console.log(response.data);\n          this.currentUser = response.data;\n        })\n        .catch(error => {\n          console.log(error + \" there was an error\");\n        });\n    },\n\n  },\n\n  computed: {\n    isValidForm() {\n      return this.readingEvent > 0;\n    },\n\n    selectDate() {\n      return this.date;\n    },\n\n\n\n  }\n};\n</script>\n\n\n<style>\n</style>\n"],"sourceRoot":"src/components"}]}