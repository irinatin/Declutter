{"remainingRequest":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/src/components/Books.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/src/components/Books.vue","mtime":1586646412569},{"path":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/irinatin/workspace/java-final-capstone-team-3/vue_starter_java/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\n\nexport default {\n  props: {\n    apiURL: String\n  },\n  data() {\n    return {\n      showBook: false,\n      manualBook: false,\n      success: false,\n      success2: false,\n      book: {\n        isbn: \"\",\n        title: \"\",\n        author: \"\",\n        thumbnail: \"\"\n      }\n    };\n  },\n  methods: {\n    searchBooks(minlength, maxlength) {\n      this.success = false;\n      let mnlen = minlength;\n      let mxlen = maxlength;\n\n      if (this.book.isbn.length < mnlen || this.book.isbn.length > mxlen) {\n        alert(\n          \"Please input the ISBN with digits only between \" +\n            mnlen +\n            \" and \" +\n            mxlen +\n            \" characters (Ex: 0141439556)\"\n        );\n        return false;\n      } else {\n        axios\n          .get(\n            \"https://openlibrary.org/api/books?format=json&jscmd=data&bibkeys=ISBN:\" +\n              this.book.isbn\n          )\n\n          .then(response => {\n            console.log(response.data);\n\n            //this.book.title = response.data['ISBN:1847246923'].title; THIS WORKS!!!\n            let tempIsbn = this.book.isbn;\n\n            this.book.title = response.data[\"ISBN:\" + tempIsbn].title;\n            this.book.author =\n              response.data[\"ISBN:\" + tempIsbn].authors[0].name;\n            this.book.thumbnail = response.data[\"ISBN:\" + tempIsbn].cover.small;\n            this.showBook = true;\n            // this.book.isbn = ' ';\n          })\n          .catch(error => {\n            console.log(error + \" there was an error\");\n            this.manualBook = true;\n            this.showBook = false;\n          });\n      }\n    },\n\n    addBookToLibraryManually() {\n      axios\n        .post(`${process.env.VUE_APP_REMOTE_API}/api/addBook`, this.book, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n          }\n        })\n        .then(response => {\n          console.log(response);\n          this.success = true;\n          this.manualBook = false;\n        })\n        .catch(error => {\n          console.log(error + \" there was an error\");\n        });\n    },\n\n    addBookToLibrary() {\n      axios\n        .post(`${process.env.VUE_APP_REMOTE_API}/api/addBook`, this.book, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n          }\n        })\n        .then(response => {\n          console.log(response);\n          this.success = true;\n          this.showBook = false;\n        })\n        .catch(error => {\n          console.log(error + \" there was an error\");\n        });\n    },\n\n    clearSearch() {\n      this.book.isbn = \"\";\n      this.book.title = \"\";\n      this.book.author = \"\";\n      this.book.thumbnail = \"\";\n      this.showBook = false;\n      this.manualBook = false;\n      this.success = false;\n      this.success2 = false;\n    }\n  },\n  computed: {\n    isValidForm() {\n      return this.book.isbn != \"\";\n    }\n  }\n};\n",{"version":3,"sources":["Books.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Books.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"header\">\n      <h2 class=\"label\">Book Search</h2>\n    </div>\n\n    <div class=\"form\">\n      <div class=\"form-input\">\n        <span>Enter Book ISBN:</span><br>\n        <input type=\"text\" v-model=\"book.isbn\" placeholder=\"Enter ISBN Here\" />\n      </div>\n      <button :disabled=\"!isValidForm\" v-on:click=\"searchBooks(10, 13)\">\n        Search\n      </button>\n    </div>\n\n    <br />\n\n    <div>\n      <span v-if=\"showBook\"\n        ><img v-bind:src=\"book.thumbnail\" /> title: {{ book.title }} author:\n        {{ book.author }}</span\n      >\n    </div>\n\n    <div>\n      <p v-if=\"showBook\">\n        To add this book to your personal library, click below:\n      </p>\n      <button v-if=\"showBook\" v-on:click=\"addBookToLibrary\">\n        Add Book To Library\n      </button>\n      <p v-if=\"success\">Book Added Successfully!</p>\n    </div>\n\n    <div class=\"form\" v-if=\"manualBook\">\n      <div class=\"form-input\">\n        <p>Your book could not be found. Please add it below:</p>\n        <span class=\"label\">Title:</span>\n        <input\n          type=\"text\"\n          v-model=\"book.title\"\n          placeholder=\"Enter Title Here\"\n        />\n        <span class=\"label\">Author:</span>\n        <input\n          type=\"text\"\n          v-model=\"book.author\"\n          placeholder=\"Enter Author Here\"\n        />\n      </div>\n      <button v-on:click=\"addBookToLibraryManually\">Add Book</button\n      ><button v-on:click=\"clearSearch\">Cancel</button>\n      <p v-if=\"success2\">Book Added Successfully!</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  props: {\n    apiURL: String\n  },\n  data() {\n    return {\n      showBook: false,\n      manualBook: false,\n      success: false,\n      success2: false,\n      book: {\n        isbn: \"\",\n        title: \"\",\n        author: \"\",\n        thumbnail: \"\"\n      }\n    };\n  },\n  methods: {\n    searchBooks(minlength, maxlength) {\n      this.success = false;\n      let mnlen = minlength;\n      let mxlen = maxlength;\n\n      if (this.book.isbn.length < mnlen || this.book.isbn.length > mxlen) {\n        alert(\n          \"Please input the ISBN with digits only between \" +\n            mnlen +\n            \" and \" +\n            mxlen +\n            \" characters (Ex: 0141439556)\"\n        );\n        return false;\n      } else {\n        axios\n          .get(\n            \"https://openlibrary.org/api/books?format=json&jscmd=data&bibkeys=ISBN:\" +\n              this.book.isbn\n          )\n\n          .then(response => {\n            console.log(response.data);\n\n            //this.book.title = response.data['ISBN:1847246923'].title; THIS WORKS!!!\n            let tempIsbn = this.book.isbn;\n\n            this.book.title = response.data[\"ISBN:\" + tempIsbn].title;\n            this.book.author =\n              response.data[\"ISBN:\" + tempIsbn].authors[0].name;\n            this.book.thumbnail = response.data[\"ISBN:\" + tempIsbn].cover.small;\n            this.showBook = true;\n            // this.book.isbn = ' ';\n          })\n          .catch(error => {\n            console.log(error + \" there was an error\");\n            this.manualBook = true;\n            this.showBook = false;\n          });\n      }\n    },\n\n    addBookToLibraryManually() {\n      axios\n        .post(`${process.env.VUE_APP_REMOTE_API}/api/addBook`, this.book, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n          }\n        })\n        .then(response => {\n          console.log(response);\n          this.success = true;\n          this.manualBook = false;\n        })\n        .catch(error => {\n          console.log(error + \" there was an error\");\n        });\n    },\n\n    addBookToLibrary() {\n      axios\n        .post(`${process.env.VUE_APP_REMOTE_API}/api/addBook`, this.book, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"Authorization\")\n          }\n        })\n        .then(response => {\n          console.log(response);\n          this.success = true;\n          this.showBook = false;\n        })\n        .catch(error => {\n          console.log(error + \" there was an error\");\n        });\n    },\n\n    clearSearch() {\n      this.book.isbn = \"\";\n      this.book.title = \"\";\n      this.book.author = \"\";\n      this.book.thumbnail = \"\";\n      this.showBook = false;\n      this.manualBook = false;\n      this.success = false;\n      this.success2 = false;\n    }\n  },\n  computed: {\n    isValidForm() {\n      return this.book.isbn != \"\";\n    }\n  }\n};\n</script>\n\n<style></style>\n"]}]}